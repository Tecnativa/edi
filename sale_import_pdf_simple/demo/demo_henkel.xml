<?xml version="1.0" encoding="utf-8" ?>
<odoo noupdate="1">
    <record id="res_partner_henkel" model="res.partner">
        <field name="name">Henkel</field>
    </record>
    <record id="product_product_henkel" model="product.product">
        <field name="name">Test Henkel Product</field>
    </record>
    <record id="sale_order_henkel" model="base.import.pdf.template">
        <field name="name">Pedidos de venta Henkel</field>
        <field name="model_id" ref="sale.model_sale_order" />
        <field name="child_field_id" ref="sale.field_sale_order__order_line" />
        <!-- <field name="auto_detect_pattern">(?<=Henkel IbÃ©rica Operations)[\S\s]*</field> -->
        <field
            name="header_items"
        >Material,Cantidad del pedido,Precio por unidad</field>
    </record>
    <!-- header Lines -->
    <record
        id="sale_order_henkel_line_partner_id"
        model="base.import.pdf.template.line"
    >
        <field name="template_id" ref="sale_order_henkel" />
        <field name="related_model">header</field>
        <field name="field_id" ref="sale.field_sale_order__partner_id" />
        <field name="value_type">fixed</field>
        <field name="fixed_value" ref="res_partner_henkel" />
    </record>
    <record
        id="sale_order_henkel_line_client_order_ref"
        model="base.import.pdf.template.line"
    >
        <field name="template_id" ref="sale_order_henkel" />
        <field name="related_model">header</field>
        <field name="field_id" ref="sale.field_sale_order__client_order_ref" />
        <field name="pattern">.*Document Number(.*)Document Date</field>
        <field name="value_type">variable</field>
    </record>
    <!-- Lines Lines -->
    <record
        id="sale_order_henkel_line_product_id"
        model="base.import.pdf.template.line"
    >
        <field name="template_id" ref="sale_order_henkel" />
        <field name="related_model">lines</field>
        <field name="field_id" ref="sale.field_sale_order_line__product_id" />
        <field name="column">0</field>
        <field name="pattern">([0-9]{5}( [0-9]{10}))</field>
        <field name="value_type">variable</field>
        <field
            name="search_field_id"
            ref="product_supplierinfo_for_customer.field_product_product__variant_customer_ids"
        />
        <field
            name="search_subfield_id"
            ref="product_supplierinfo_for_customer.field_product_customerinfo__product_code"
        />
        <!-- <field name="default_value">product.product,cls.env.ref('sale_import_pdf_simple.product_product_henkel').id</field>     -->
    </record>
    <record
        id="sale_order_henkel_line_product_uom_qty"
        model="base.import.pdf.template.line"
    >
        <field name="template_id" ref="sale_order_henkel" />
        <field name="related_model">lines</field>
        <field name="field_id" ref="sale.field_sale_order_line__product_uom_qty" />
        <field name="column">1</field>
        <field name="pattern">([0-9]{1,3}).Pieza</field>
        <field name="value_type">variable</field>
    </record>
    <record
        id="sale_order_henkel_line_price_unit"
        model="base.import.pdf.template.line"
    >
        <field name="template_id" ref="sale_order_henkel" />
        <field name="related_model">lines</field>
        <field name="field_id" ref="sale.field_sale_order_line__price_unit" />
        <field name="column">2</field>
        <field name="pattern">([0-9]{1,3},[0-9]{2})EUR</field>
        <field name="value_type">variable</field>
        <field name="decimal_separator">comma</field>
        <field name="log_distinct_value" eval="True" />
    </record>
</odoo>
